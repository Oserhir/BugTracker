@model IEnumerable<TheBugTracker.Models.Ticket>

@{
    ViewData["Title"] = "My Tickets";
}


<div class="d-flex align-items-center">
    <a class="" asp-action="AllTickets" asp-controller="Tickets" style="color: rgb(23, 123, 227); margin-right : 15px" >  <i class="fa fa-arrow-left fa-lg" aria-hidden="true"></i> </a>
    <h4 class="mb-0">My Tickets</h4>
</div>

<div class="d-flex align-items-center" style="margin-bottom : 20px">
    <a class="" asp-action="Dashboard" asp-controller="Home" style="color: rgb(23, 123, 227); margin-right : 15px" >  <i class="fa fa-home fa-lg" aria-hidden="true"></i> </a>
    <p class="mb-0" style="margin-right : 5px">/ Tickets</p>
    <p class="mb-0">/ MyTickets</p>
</div>
 

<!-- Column starts -->
<div class="col-xl-12">
  <div class="card dz-card" id="accordion-one">
    <div class="card-header flex-wrap">
      <div>
        <h4 class="card-title">My Tickets</h4>
      </div>
      
    </div>
 
    <div class="tab-content" id="myTabContent">
       
        <div class="card-body pt-0">
          <div class="table-responsive">
            <table id="example" class="display table" style="min-width: 845px">
              <thead>
                <tr>
                  <th> @Html.DisplayNameFor(model => model.Title) </th>
                @* <th> @Html.DisplayNameFor(model => model.Created) </th>
                  <th> @Html.DisplayNameFor(model => model.Project)</th> *@ 
                  <th>  Type </th>
                  <th> Priority </th>
                  <th>Status </th>
                  <th>Owner </th>
                  <th>Developer </th>
                  <th> Actions </th>
                </tr>
              </thead>
              <tbody>
                  @foreach (var item in Model) {
                    <tr>
                              <td> @Html.DisplayFor(modelItem => item.Title) </td>
                             @* <td>  @Html.DisplayFor(modelItem => item.Created) </td>
                              <td> @Html.DisplayFor(modelItem => item.Project.Name) </td> *@ 
                                      <td>  @Html.DisplayFor(modelItem => item.TicketType.Name)  </td> 
                                      <td>  @Html.DisplayFor(modelItem => item.TicketPriority.Name) </td>
                                      <td>  @Html.DisplayFor(modelItem => item.TicketStatus.Name) </td>
                                      <td> @Html.DisplayFor(modelItem => item.OwnerUser.FullName) </td>
                                  <td>
                                        @Html.DisplayFor(modelItem => item.DeveloperUser.FullName)
                                      </td>

                              <td>
                                             <a asp-action="Details" asp-route-id="@item.Id" class="btn btn-success shadow btn-xs sharp me-1"><i class="fa fa-eye"></i></a>
                                             <a asp-action="Edit" asp-route-id="@item.Id"  class="btn btn-primary shadow btn-xs sharp me-1"><i class="fa fa-pencil"></i></a>
                                            @if (item.Archived)
                                            {
                                                         <a asp-action="Restore" asp-route-id="@item.Id" class="btn btn-info shadow btn-xs sharp"><i class="fa fa-refresh"></i></a>
                                            }
                                            else
                                            {
                                                         <a asp-action="Archive" asp-route-id="@item.Id" class="btn btn-danger shadow btn-xs sharp"><i class="fa fa-archive"></i></a>
                                            }

                                    </td>
                    </tr>
                  }
              </tbody>
            </table>
          </div>
        </div>
       
      </div>
    </div>
  </div>
</div>

 